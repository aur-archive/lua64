--- src/ltable.c.0	2011-01-02 16:02:01.557596373 -0600
+++ src/ltable.c	2011-01-02 16:02:10.952046263 -0600
@@ -583,8 +583,8 @@
       if (i != ivalue(key)) break;   /* handle non-32 bit separately */
 # endif
       return luaH_getint(t,i);
-#endif
     }
+#endif
     case LUA_TNUMBER: {
       lua_Integer j;
       if (!tt_integer_valued(key,&j)) break;
